{% load static %}
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Add Product</title>
    <link rel="stylesheet" href="{% static 'products/add_product.css' %}">
  </head>
  <body>
    <h1>Add Product</h1>

    <form method="post" id="add-product-form">
      {% csrf_token %}
      {{ form.as_p }}
      <button type="submit">Save Product</button>
    </form>

    <p><a href="{% url 'product_list' %}">‚Üê Back to products</a></p>

    <!-- Popup display -->
    <div class="modal-overlay" id="confirmModal">
      <div class="modal">
        <h3>Are you sure these are the correct product details?</h3>
        <div>
          <button type="button" class="confirm-btn" id="confirmYes">Confirm</button>
          <button type="button" class="cancel-btn" id="confirmNo">Cancel</button>
        </div>
      </div>
    </div>

    <!-- JS for popup function -->
    <script>
      const form = document.getElementById("add-product-form");
      const modal = document.getElementById("confirmModal");
      const confirmYes = document.getElementById("confirmYes");
      const confirmNo = document.getElementById("confirmNo");

      form.addEventListener("submit", function(e) {
        e.preventDefault();
        modal.style.display = "flex";
      });

      confirmYes.addEventListener("click", function() {
        modal.style.display = "none";
        form.submit();
      });

      confirmNo.addEventListener("click", function() {
        modal.style.display = "none";
      });
    </script>
  </body>
</html>
